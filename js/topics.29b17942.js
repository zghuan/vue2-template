"use strict";(self["webpackChunkvue2_test_eslint"]=self["webpackChunkvue2_test_eslint"]||[]).push([[189],{2222:function(e,s,t){t.r(s),t.d(s,{default:function(){return _}});var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"topics"},[t("p",[e._v("观察者模式测试：")]),t("div",[e._v("（发布者）女神发圈："),t("input",{directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],domProps:{value:e.msg},on:{input:function(s){s.target.composing||(e.msg=s.target.value)}}}),t("button",{on:{click:e.publish}},[e._v("发布")])]),t("observer")],1)},r=[];t(7658);class o{constructor(){this.observers=[]}add(e,s){this.observers.push(s)}remove(e,s){const t=this.observers.findIndex((e=>e===s));-1!==t&&this.observers.splice(t,1)}notify(e){for(const s of this.observers)s.update(e)}}class i{constructor(e){this.fun=e}update(e){this.fun(e)}}const a=new o;var c=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"observer"},[e._v(" （观察者）"+e._s(e.name)+"： "),t("button",{on:{click:e.follow}},[e._v("关注")]),t("button",{on:{click:e.cancel}},[e._v("取关")]),t("br"),t("div",{staticStyle:{margin:"20px"}},[e._v(" "+e._s(e.name)+"接受到女神发来的消息："+e._s(e.msg)+" ")])])},u=[],l={name:"Home",data(){return{msg:"",name:"小明",observer:"",subject:""}},created(){this.subject=a},methods:{follow(){this.observer=new i((e=>{this.msg=e,this.name})),this.subject.add(this.name,this.observer),this.name},cancel(){this.subject.remove(this.name,this.observer),this.name}}},m=l,v=t(1001),h=(0,v.Z)(m,c,u,!1,null,"71f7f9c0",null),b=h.exports,d={name:"Home",components:{observer:b},data(){return{msg:"",subject:""}},created(){this.$root.name,this.subject=a},methods:{publish(){new Date,this.subject.notify(this.msg)}}},f=d,p=(0,v.Z)(f,n,r,!1,null,"8c45579a",null),_=p.exports}}]);