"use strict";(self["webpackChunkvue2_test_eslint"]=self["webpackChunkvue2_test_eslint"]||[]).push([[189],{3859:function(s,e,t){t.r(e),t.d(e,{default:function(){return _}});var n=function(){var s=this,e=s._self._c;return e("div",{staticClass:"topics"},[e("p",[s._v("观察者模式测试：")]),e("div",[s._v("（发布者）女神发圈："),e("input",{directives:[{name:"model",rawName:"v-model",value:s.msg,expression:"msg"}],domProps:{value:s.msg},on:{input:function(e){e.target.composing||(s.msg=e.target.value)}}}),e("button",{on:{click:s.publish}},[s._v("发布")])]),e("observer")],1)},r=[];t(7658);class o{constructor(){this.observers=[]}add(s,e){this.observers.push(e)}remove(s,e){const t=this.observers.findIndex((s=>s===e));-1!==t&&this.observers.splice(t,1)}notify(s){for(const e of this.observers)e.update(s)}}class i{constructor(s){this.fun=s}update(s){this.fun(s)}}const a=new o;var c=function(){var s=this,e=s._self._c;return e("div",{staticClass:"observer"},[s._v(" （观察者）"+s._s(s.name)+"： "),e("button",{on:{click:s.follow}},[s._v("关注")]),e("button",{on:{click:s.cancel}},[s._v("取关")]),e("br"),e("div",{staticStyle:{margin:"20px"}},[s._v(" "+s._s(s.name)+"接受到女神发来的消息："+s._s(s.msg)+" ")])])},u=[],l={name:"Home",data(){return{msg:"",name:"小明",observer:"",subject:""}},created(){this.subject=a},methods:{follow(){this.observer=new i((s=>{this.msg=s,this.name})),this.subject.add(this.name,this.observer),this.name},cancel(){this.subject.remove(this.name,this.observer),this.name}}},v=l,m=t(1001),h=(0,m.Z)(v,c,u,!1,null,"71f7f9c0",null),b=h.exports,d={name:"Home",components:{observer:b},data(){return{msg:"",subject:""}},created(){this.$root.name,this.subject=a},methods:{publish(){new Date,this.subject.notify(this.msg)}}},f=d,p=(0,m.Z)(f,n,r,!1,null,"8c45579a",null),_=p.exports}}]);